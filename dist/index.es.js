import e,{useState as r,useEffect as t}from"react";import n from"prop-types";function a(e,n,a,o){const[i,l]=r([]),[s,c]=r([]);return t((()=>{const r=function(e,r){const t=[],n=Math.ceil(e.length/r);for(let e=1;e<=n;e++)t.push(e);return t}(e,a);l([...r]);const t=function(e,r,t){return e.slice((r-1)*t,r*t)}(e,n,a);c([...t])}),[e,l,n,c,a,o]),{slice:s,range:i}}function o({pageSize:r,setPageSize:t,pageSizeOptions:n}){return e.createElement("label",null,"Show"," ",e.createElement("select",{value:r,onChange:e=>t(parseInt(e.target.value))},n.map((r=>e.createElement("option",{key:r},r))))," ","Entries")}function i({searchString:r,setSearchString:t}){return e.createElement("label",null,"Search: "," ",e.createElement("input",{type:"search",value:r,onChange:e=>t(e.target.value)}))}function l({selectPageSize:r,pageSize:t,setPageSize:n,pageSizeOptions:a,searchString:l,setSearchString:s,allowSearch:c}){return c||r?e.createElement("div",{className:"header"},r&&e.createElement(o,{pageSize:t,setPageSize:n,pageSizeOptions:a}),c&&e.createElement(i,{searchString:l,setSearchString:s})):null}function s({headers:r,ordering:t,setOrdering:n}){return e.createElement("thead",null,e.createElement("tr",null,r.map((r=>e.createElement("th",{key:r.key,onClick:()=>function(e,r,t){let n;n=r&&r.property===e&&"ascending"===r.order?{order:"descending",property:e}:{order:"ascending",property:e};t(n)}(r.key,t,n)},e.createElement("div",{className:"th-content"},r.name,e.createElement("span",{className:"sortIcons"},e.createElement("button",{className:t&&t.property===r.key&&"ascending"===t.order?"sortIcon--active":null},"▲"),e.createElement("button",{className:t&&t.property===r.key&&"descending"===t.order?"sortIcon--active":null},"▼"))))))))}function c({slice:r}){let t=0;return e.createElement("tbody",null,r.map((r=>(t++,e.createElement("tr",{key:"TableRow"+t},Object.values(r).map((r=>e.createElement("td",{key:"TableData"+t++},r))))))))}function d({headers:r,slice:t,ordering:n,setOrdering:a}){return e.createElement("div",{className:"tableWrapper"},e.createElement("table",null,e.createElement(s,{headers:r,ordering:n,setOrdering:a}),e.createElement(c,{slice:t})))}function p({currentPage:r,pageSize:t,orderedData:n,slice:a}){return e.createElement("span",null,"Showing ",1===r?r:(r-1)*t+1,"-",t*r>n.length?r*t-(t-a.length):r*t," "," of ",n.length," ","entries")}function u({range:r,currentPage:t,setCurrentPage:n}){return e.createElement("div",{className:"pagination"},e.createElement("button",{disabled:1===t,onClick:()=>n(t-1)},"Previous"),r.map(((r,a)=>e.createElement("button",{key:a,className:t===r?"page--active":null,onClick:()=>n(r)},r))),e.createElement("button",{disabled:t===r.length,onClick:()=>n(t+1)},"Next"))}function g({range:r,setCurrentPage:n,currentPage:a,slice:o,orderedData:i,pageSize:l,displayEntries:s=!0}){return t((()=>{0===o.length&&1!==a&&n(1)}),[o,a,n]),e.createElement("div",{className:"footer"},s&&e.createElement(p,{currentPage:a,pageSize:l,orderedData:i,slice:o}),r.length>1&&e.createElement(u,{range:r,currentPage:a,setCurrentPage:n}))}o.propTypes={pageSize:n.number,setPageSize:n.func,pageSizeOptions:n.array},s.propTypes={headers:n.array,ordering:n.object,setOrdering:n.func},c.propTypes={slice:n.array,pageSize:n.number,searchString:n.string},p.propTypes={currentPage:n.number.isRequired,pageSize:n.number.isRequired,orderedData:n.arrayOf(n.object).isRequired,slice:n.arrayOf(n.object).isRequired},u.propTypes={range:n.arrayOf(n.number).isRequired,currentPage:n.number.isRequired,setCurrentPage:n.func.isRequired},g.propTypes={range:n.arrayOf(n.number).isRequired,setCurrentPage:n.func.isRequired,currentPage:n.number.isRequired,slice:n.arrayOf(n.object).isRequired,orderedData:n.arrayOf(n.object).isRequired,pageSize:n.number.isRequired,displayEntries:n.bool};function m({data:n,headers:o,pageSizeOptions:i,displayEntries:s,allowSearch:c,selectPageSize:p}){const[u,m]=r(void 0),[b,f]=r(""),[h,y]=r(i[0]),[S,E]=r(1),z=function(e,n){const[a,o]=r(e);return t((()=>{if(""===n||n.length<2)return o(e);const r=e.filter((e=>Object.values(e).some((e=>e.toString().toLowerCase().includes(n.toLowerCase())))));o(r)}),[e,n]),a}(n,b),x=function(e,n){const[a,o]=r(e);return t((()=>{if(!n)return o(e);"ascending"===n.order?o(e.sort(((e,r)=>e[n.property]>r[n.property]?1:-1))):o(e.sort(((e,r)=>e[n.property]>r[n.property]?-1:1)))}),[a,e,n]),a}(z,u),{slice:v,range:P}=a(x,S,h,u);return e.createElement("div",{className:"mainContainer"},e.createElement(l,{selectPageSize:p,pageSize:h,setPageSize:y,pageSizeOptions:i,searchString:b,setSearchString:f,allowSearch:c}),e.createElement(d,{headers:o,slice:v,ordering:u,setOrdering:m}),0===x.length?e.createElement("span",{className:"noDataMsg"},"No data found"):e.createElement(g,{range:P,slice:v,setCurrentPage:E,currentPage:S,orderedData:x,pageSize:h,displayEntries:s}))}!function(e,r){void 0===r&&(r={});var t=r.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===t&&n.firstChild?n.insertBefore(a,n.firstChild):n.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}(".mainContainer{font-family:Arial,Helvetica,sans-serif;max-width:100%}.header{background-color:transparent;border-top-left-radius:1rem;border-top-right-radius:1rem;display:flex;justify-content:space-between;padding:1.2rem 1rem 1rem}.header input,.header select{background-color:transparent;border:1px solid;border-color:inherit;border-radius:.2rem;color:inherit;outline:none}.header select option{background-color:inherit}.tableWrapper{overflow-x:auto}.tableWrapper table{border-collapse:collapse;color:#000;width:100%}.tableWrapper table td,.tableWrapper table th{border:2px solid #ddd;padding:.5rem}.tableWrapper table tr:nth-child(2n),.tableWrapper table tr:nth-child(odd){background-color:#f2f2f2}.tableWrapper table tr:hover{background-color:#fff}.tableWrapper table th{background-color:#000;border:2px solid #000;color:#fff;cursor:pointer;padding:.5rem;text-align:left}.th-content{gap:.5rem;justify-content:space-between;user-select:none}.sortIcons,.th-content{align-items:center;display:flex}.sortIcons{flex-direction:column;width:fit-content}.sortIcons button{background-color:transparent;border:none;color:hsla(0,0%,100%,.5);display:inline-block;font-size:.5rem;height:fit-content;padding:0;width:fit-content}.sortIcons button:first-child{position:relative;top:1px}.sortIcons button.sortIcon--active{color:#fff;font-size:.6rem}.footer{align-items:center;background-color:#3c3c3c;background-color:transparent;border-bottom-left-radius:1rem;border-bottom-right-radius:1rem;color:#000;display:flex;flex-direction:column;gap:1rem;padding:1rem}.pagination button{border:2px solid transparent;border-radius:10px;cursor:pointer;margin-left:4px;margin-right:4px;padding:7px 14px}.pagination .page--active{background:#000;border:2px solid #000;color:#fff}.pagination button[disabled]{cursor:auto}.pagination button[disabled]:hover{border:2px solid transparent}.pagination button:hover{border:2px solid #000}.noDataMsg{background-color:#f2f2f2;border-bottom-left-radius:1rem;border-bottom-right-radius:1rem;box-sizing:border-box;display:inline-block;padding:2rem;text-align:center;width:100%}.table{overflow-x:auto}@media (min-width:426px){.footer{align-items:center;flex-direction:row;justify-content:space-between}}"),m.propTypes={data:n.arrayOf(n.object).isRequired,headers:n.arrayOf(n.object).isRequired,pageSizeOptions:n.arrayOf(n.number),displayEntries:n.bool,allowSearch:n.bool,selectPageSize:n.bool},m.defaultProps={pageSizeOptions:[25,50,100],displayEntries:!0,allowSearch:!0,selectPageSize:!0};export{m as ReactTable};
